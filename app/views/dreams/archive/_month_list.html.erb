<% unless params[:year].nil? %>
    <h2><%= t('dreams.archive.year', year: params[:year]) %></h2>
    <% if params[:month].nil? %>
        <% if @dates[params[:year].to_i] %>
            <ul>
              <% @dates[params[:year].to_i].each do |month| %>
                  <li><%= link_to t('date.nominative_months')[month], archive_dreams_path(year: params[:year], month: month) %></li>
              <% end %>
            </ul>
        <% else %>
            <%= render 'shared/nothing_found' %>
        <% end %>
    <% else %>
        <h3><%= t('date.nominative_months')[params[:month].to_i] %></h3>
        <%= paginate @collection %>
        <% if @collection.any? %>
            <div class="list-of-dreams">
              <% @collection.each do |dream| %>
                  <%= render partial: 'dreams/preview', locals: { dream: dream } %>
              <% end %>
            </div>
        <% else %>
            <%= render 'shared/nothing_found' %>
        <% end %>
        <%= paginate @collection %>
    <% end %>
<% end %>
